<!--
  Generated template for the PasswordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>密码设置</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding-top>
  <form [formGroup]="authForm" (ngSubmit)="save(authForm.value)">
    <ion-list no-lines>
      <ng-template [ngIf]="authForm.controls.oldpassword" [ngIfElse]="confirm">
        <ion-item>
          <ion-label fixed>原密码</ion-label>
          <ion-input [type]="eye?'text':'password'" placeholder="输入原密码" formControlName="oldpassword"></ion-input>
          <a item-right input-button-right ion-text color="gray6" (touch)="eye=!eye">
            <ion-icon [name]="eye?'eye-outline':'eye-off-outline'"></ion-icon>
          </a>
        </ion-item>
        <ion-item>
          <ion-label fixed>新密码</ion-label>
          <ion-input entype="password" [type]="eye?'text':'password'" placeholder="输入新密码" formControlName="password"></ion-input>
        </ion-item>
      </ng-template>
      <ng-template #confirm>
        <ion-item>
          <ion-label fixed>密码</ion-label>
          <ion-input entype="password" [type]="eye?'text':'password'" placeholder="输入密码" formControlName="password"></ion-input>
          <a item-right input-button-right ion-text color="gray6" (touch)="eye=!eye">
            <ion-icon [name]="eye?'eye-outline':'eye-off-outline'"></ion-icon>
          </a>
        </ion-item>
      </ng-template>
      <ion-item no-lines>
        <ion-label fixed>确认密码</ion-label>
        <ion-input entype="password" [type]="eye?'text':'password'" placeholder="再次输入密码" formControlName="repassword"></ion-input>
      </ion-item>
    </ion-list>
    <p padding>
      <submiton [(state)]="authForm['processing']" event="password_enter">确 认</submiton>
    </p>
  </form>
</ion-content>
