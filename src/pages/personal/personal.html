<!--
  Generated template for the PersonalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>我的信息</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-item-group *ngIf="userInfo">
    <ion-item-divider color="light"><span ion-text color="primary">{{userInfo.name?'欢迎您，'+userInfo.name:'还差一步，成功绑定信息就可以查看成绩了!'}}</span></ion-item-divider>
    <ion-item *ngIf="!userInfo.name">
      <ion-label color="primary">姓名</ion-label>
      <ion-input placeholder="实名修改，绑定后不可修改"></ion-input>
    </ion-item>
    <button ion-item *ngIf="!userInfo.cityName">
      <!-- <ion-icon item-left name="pin"></ion-icon> -->
      <city-picker *ngIf="address.code&&!userInfo.city" item-content cancelText='取消' doneText='完成' separator=' ' [citiesData]="address.data" [(ngModel)]="address.name" (ionChange)="addressChange($event)">
      </city-picker>
      <p>请选择省市，选择后不可修改</p>
    </button>
    <ion-item *ngIf="userInfo.cityName">
      {{userInfo.cityName}}
    </ion-item>
    <button ion-item *ngIf="!userInfo.school">
      <!-- <ion-icon item-left name="school"></ion-icon> -->
      <p>请选择学校，选择后不可修改</p>
    </button>
    <ion-item *ngIf="userInfo.school">
      {{userInfo.school}}
    </ion-item>
    <button ion-item *ngIf="!userInfo.gradeName">
      <!-- <ion-icon item-left name="people"></ion-icon> -->
      <city-picker *ngIf="grade.code" item-content cancelText='取消' doneText='完成' separator=' ' [citiesData]="grade.data" [(ngModel)]="grade.name" (ionChange)="gradeChange($event)">
      </city-picker>
      <p>请选择年级，选择后不可修改</p>
    </button>
    <ion-item *ngIf="userInfo.gradeName">
      {{userInfo.gradeName}}
    </ion-item>
    <ion-row radio-group *ngIf="userInfo" no-lines>
      <ion-item class="col" no-border no-lines (tap)="userInfo.role='p'">
        <ion-label>我是家长</ion-label>
        <ion-checkbox [checked]="userInfo.role==='p'"></ion-checkbox>
      </ion-item>
      <ion-item class="col" no-border (tap)="userInfo.role='s'">
        <ion-label>我是学生</ion-label>
        <ion-checkbox [checked]="userInfo.role==='s'"></ion-checkbox>
      </ion-item>
    </ion-row>
    <ion-item-divider class="agreement" *ngIf="userInfo&&userInfo.role&&userInfo.gradeName&&userInfo.school&&userInfo.cityName">
      <ion-icon name="information-circle"></ion-icon>
      如需修改信息，请拨打<a>400-0309776</a>
    </ion-item-divider>
    <p class="agreement" *ngIf="graduated">
      恭喜您毕业了！如果新的学习里程还需要小七的陪伴，请点击下方按钮重新绑定信息哦！
    </p>
  </ion-item-group>
  <p padding *ngIf="userInfo&&!userInfo.role&&!userInfo.gradeName&&!userInfo.school&&!userInfo.cityName||graduated">
    <!-- <submiton></submiton> -->
    <button ion-button block>{{graduated?'重新绑定':'保 存'}}</button>
  </p>
</ion-content>
